!function(){"use strict";var e=window.wp.element;const{registerPlugin:t}=wp.plugins,{__:__}=wp.i18n,{PluginDocumentSettingPanel:a,PluginSidebarMoreMenuItem:s,PluginSidebar:o}=wp.editPost,{PanelBody:r,PanelRow:i,Icon:n}=wp.components,{compose:c}=wp.compose,{withSelect:l,withDispatch:m}=wp.data,{useState:p,Fragment:d,useEffect:w}=wp.element,_=()=>{const t=wp.data.select("core/editor").getCurrentPostId(),a=wp.data.select("core/editor").getCurrentPostAttribute("meta");let s="optimized";return t in two_speed.critical_pages?void 0!==two_speed.critical_pages[t].status&&"in_progress"==two_speed.critical_pages[t].status&&(s="optimizing"):s="notOptimized","optimized"==s?(0,e.createElement)(d,null,(0,e.createElement)(i,null,(0,e.createElement)(E,{metas:a,post_id:t}))):"notOptimized"==s?(0,e.createElement)(i,null,(0,e.createElement)(g,{post_id:t})):(0,e.createElement)(i,null,(0,e.createElement)(u,null))},g=t=>{let{post_id:a}=t;const[s,o]=p(!1);return s?(0,e.createElement)(u,null):(0,e.createElement)("span",{className:"two-editor-page-speed two-notoptimized "},(0,e.createElement)("b",null,__("Optimize with 10Web Booster","tenweb-speed-optimizer")),(0,e.createElement)("p",null,__("Optimize now to get a 90+ PageSpeed score.","tenweb-speed-optimizer")),(0,e.createElement)("a",{onClick:()=>(e=>{0!=two_speed.optimize_entire_website?window.open(two_speed.optimize_entire_website+"?two_comes_from=gutenbergAfterLimit","_blank"):(o(!0),fetch(two_speed.ajax_url+"?action=two_optimize_page&post_id="+e+"&nonce="+two_speed.nonce+"&initiator=gutenberg").then((e=>{})))})(a),"data-initiator":"gutenberg",className:"two-button-green"},__("Optimize","tenweb-speed-optimizer")))},u=()=>(0,e.createElement)("span",{className:"two-page-speed two-optimizing"},__("Optimizing...","tenweb-speed-optimizer"),(0,e.createElement)("p",{className:"two-description"},__("Please refresh the page in 2 minutes.","tenweb-speed-optimizer"))),E=t=>{let{metas:a,post_id:s}=t;w((()=>{const e=document.getElementsByClassName("two-score-circle");for(let t=0;t<e.length;t++)two_draw_score_circle(e[t])}),[]);const[o,r]=p(!1);let i;i=two_speed.front_page_id==s?two_speed.two_front_page_speed:a.two_page_speed;let n=0;if(i&&!i.previous_score)return!1;i&&i.current_score&&(s in two_speed.critical_pages&&two_speed.critical_pages[s].critical_date?n=two_speed.critical_pages[s].critical_date:i.current_score.date&&(n=Date.parse(i.current_score.date)));let c="",l=!1;if(c=Date.parse(wp.data.select("core/editor").getEditedPostAttribute("modified")+"Z")/1e3,c>n&&0!=n&&!0,(0,e.createElement)("div",{className:"two-score-container-reoptimize"},(0,e.createElement)("a",{onClick:()=>(e=>{r(!0),fetch(two_speed.ajax_url+"?action=two_optimize_page&post_id="+e+"&nonce="+two_speed.nonce+"&initiator=gutenberg").then((e=>{}))})(s),"data-initiator":"gutenberg",className:"two-button-green"},__("Re-optimize","tenweb-speed-optimizer"))),o)return(0,e.createElement)(u,null);{const t=wp.data.select("core/editor").getEditedPostAttribute("title");return(0,e.createElement)("div",{className:"two-score-section two-score-section-gutenberg"},(0,e.createElement)("div",{className:"two-score-container-title two-title-congrats"},__("Congrats!","tenweb-speed-optimizer")),(0,e.createElement)("p",{className:"two-gutenberg-container-title"},(0,e.createElement)("span",null,(0,e.createElement)("b",null,t)),__(" page is successfully optimized","tenweb-speed-optimizer")),(0,e.createElement)("div",{className:"two-score-container-title"},__("Overview of your page performance:","tenweb-speed-optimizer")),(0,e.createElement)("div",{className:"two-score-container-both"},(0,e.createElement)("div",{className:"two-score-container-old"},(0,e.createElement)("div",{className:"two-score-header"},__("Before optimization","tenweb-speed-optimizer")),(0,e.createElement)("div",{className:"two-score-mobile"},(0,e.createElement)("div",{className:"two-score-circle two_circle_with_bg","data-id":"mobile","data-thickness":"2","data-size":"40","data-score":a.two_page_speed.previous_score.mobile_score,"data-loading-time":a.two_page_speed.previous_score.mobile_tti},(0,e.createElement)("span",{className:"two-score-circle-animated"})),(0,e.createElement)("div",{className:"two-score-text"},(0,e.createElement)("span",{className:"two-score-text-name"},__("Mobile score","tenweb-speed-optimizer")),(0,e.createElement)("span",{className:"two-load-text-time"},__("Load time:","tenweb-speed-optimizer")," ",(0,e.createElement)("span",{className:"two-load-time"}),"s"))),(0,e.createElement)("div",{className:"two-score-desktop"},(0,e.createElement)("div",{className:"two-score-circle two_circle_with_bg","data-id":"desktop","data-thickness":"2","data-size":"40","data-score":a.two_page_speed.previous_score.desktop_score,"data-loading-time":a.two_page_speed.previous_score.desktop_tti},(0,e.createElement)("span",{className:"two-score-circle-animated"})),(0,e.createElement)("div",{className:"two-score-text"},(0,e.createElement)("span",{className:"two-score-text-name"},__("Desktop score","tenweb-speed-optimizer")),(0,e.createElement)("span",{className:"two-load-text-time"},__("Load time:","tenweb-speed-optimizer")," ",(0,e.createElement)("span",{className:"two-load-time"}),"s")))),(0,e.createElement)("div",{className:"two-score-container-new"},(0,e.createElement)("div",{className:"two-score-header"},__("After optimization","tenweb-speed-optimizer")),(0,e.createElement)("div",{className:"two-score-mobile"},(0,e.createElement)("div",{className:"two-score-circle two_circle_with_bg","data-id":"mobile","data-thickness":"2","data-size":"40","data-score":a.two_page_speed.current_score.mobile_score,"data-loading-time":a.two_page_speed.current_score.mobile_tti},(0,e.createElement)("span",{className:"two-score-circle-animated"})),(0,e.createElement)("div",{className:"two-score-text"},(0,e.createElement)("span",{className:"two-score-text-name"},__("Mobile score","tenweb-speed-optimizer")),(0,e.createElement)("span",{className:"two-load-text-time"},__("Load time:","tenweb-speed-optimizer")," ",(0,e.createElement)("span",{className:"two-load-time"}),"s"))),(0,e.createElement)("div",{className:"two-score-desktop"},(0,e.createElement)("div",{className:"two-score-circle two_circle_with_bg","data-id":"desktop","data-thickness":"2","data-size":"40","data-score":a.two_page_speed.current_score.desktop_score,"data-loading-time":a.two_page_speed.current_score.desktop_tti},(0,e.createElement)("span",{className:"two-score-circle-animated"})),(0,e.createElement)("div",{className:"two-score-text"},(0,e.createElement)("span",{className:"two-score-text-name"},__("Desktop score","tenweb-speed-optimizer")),(0,e.createElement)("span",{className:"two-load-text-time"},__("Load time:","tenweb-speed-optimizer")," ",(0,e.createElement)("span",{className:"two-load-time"}),"s"))))))}};t("booster-sidebar-panel",{render:()=>{const t=wp.data.select("core/editor").getCurrentPostType();return["post","page"].includes(t)&&"publish"==wp.data.select("core/editor").getCurrentPost().status?(0,e.createElement)(d,null,(0,e.createElement)(s,{target:"awp-custom-sidebar"},__("10Web Booster","tenweb-speed-optimizer")),(0,e.createElement)(o,{title:__("10Web Booster","tenweb-speed-optimizer")},(0,e.createElement)(_,null))):""},icon:(0,e.createElement)("svg",{className:"two-speed-icon",xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",viewBox:"0 0 26 26"},(0,e.createElement)("g",{id:"Group_103139","data-name":"Group 103139",transform:"translate(0 -0.391)"},(0,e.createElement)("path",{id:"Path_171039","data-name":"Path 171039",d:"M.441,38.127h0a1.445,1.445,0,0,0,2.065-.037l7.924-6.038a.131.131,0,0,0,.033-.18.126.126,0,0,0-.158-.045l-9.409,4a1.426,1.426,0,0,0-.52,2.23Z",transform:"translate(-0.028 -23.443)",fill:"#fff"}),(0,e.createElement)("path",{id:"Path_171040","data-name":"Path 171040",d:"M5.434,48.088a1.443,1.443,0,0,1-2.063.039l0,0L.462,45.274l-.034-.029-.06-.063a1.427,1.427,0,0,1,.12-1.992,1.393,1.393,0,0,1,.4-.252L4.295,41.49,3.723,42a1.571,1.571,0,0,0-.163,2.191q.045.054.095.1l1.74,1.7a1.5,1.5,0,0,1,.039,2.1",transform:"translate(-0.014 -30.56)",fill:"#9ea3a8"}),(0,e.createElement)("path",{id:"Path_171041","data-name":"Path 171041",d:"M69.869,43.142h0a1.445,1.445,0,0,0-2.065.037l-7.911,6.038a.131.131,0,0,0-.033.18.126.126,0,0,0,.158.045l9.4-4a1.426,1.426,0,0,0,.52-2.23Z",transform:"translate(-44.277 -31.469)",fill:"#fff"}),(0,e.createElement)("path",{id:"Path_171042","data-name":"Path 171042",d:"M78,32.276a1.443,1.443,0,0,1,2.063-.039l0,0,2.907,2.851L83,35.12l.06.063a1.427,1.427,0,0,1-.12,1.992,1.393,1.393,0,0,1-.4.252l-3.407,1.448.572-.507a1.571,1.571,0,0,0,.163-2.191q-.045-.054-.095-.1l-1.742-1.7a1.5,1.5,0,0,1-.036-2.1",transform:"translate(-57.411 -23.446)",fill:"#9ea3a8"}),(0,e.createElement)("path",{id:"Path_171043","data-name":"Path 171043",d:"M31.607,23.5l5.172-7.19a.126.126,0,0,0,0-.176.121.121,0,0,0-.173,0l-13.2,10.025a.131.131,0,0,0-.03.18.127.127,0,0,0,.106.055h4.143a.136.136,0,0,1,.134.139.138.138,0,0,1-.025.078L22.56,33.8a.126.126,0,0,0,0,.176.121.121,0,0,0,.173,0l13.2-10.025a.131.131,0,0,0,.03-.18.127.127,0,0,0-.106-.055H31.717a.136.136,0,0,1-.134-.139.138.138,0,0,1,.025-.078",transform:"translate(-16.668 -11.879)",fill:"#9ea3a8"})))}),t("booster-settings-panel",{render:()=>{const t=wp.data.select("core/editor").getCurrentPostType();return["post","page"].includes(t)&&"publish"==wp.data.select("core/editor").getCurrentPost().status?(0,e.createElement)(d,null,(0,e.createElement)(a,{name:"awp-custom-sidebar",title:__("10Web Booster","tenweb-speed-optimizer")},(0,e.createElement)(_,null))):""},icon:""})}();